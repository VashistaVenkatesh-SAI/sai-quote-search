{
  "version": "2.0",
  "last_updated": "2025-05-21",
  
  "quote_parsing": {
    "board_identification": {
      "description": "Boards are separated by a bolded line with 'switchboard' or 'switchgear' in the name",
      "contains": "Short description under bolded title, ends before section descriptions"
    },
    "section_identification": {
      "description": "Sections are not bolded but underlined with a number",
      "contains": ["Height", "Width", "Depth (in inches)", "Short description of what's provided"]
    }
  },
  
  "shared_board_characteristics": {
    "description": "These characteristics are consistent across all sections in a board",
    "features": [
      "UL Type (891, 1558)",
      "Board Phase",
      "Board Wires",
      "Voltage",
      "Main Bus Amperage",
      "kA Rating",
      "NEMA type",
      "Paint/Finish Type",
      "Seismic Inclusions",
      "Wireway/Trolley Track Provisions",
      "Control Access type",
      "Cabling Access/Entry type"
    ],
    "dimension_rules": {
      "depth": "Consistent across all sections in a board",
      "height": "Consistent across all sections in a board"
    }
  },
  
  "section_characteristics": {
    "description": "Per-section unique characteristics",
    "breakers": {
      "attributes": ["Frame type", "Manufacturer", "Frame amperage", "Mounting type (Fixed/Drawout)"],
      "note": "Some quotes list breakers as 'type' - check for breaker type references before board descriptions"
    },
    "dimensions": {
      "attributes": ["Height", "Width", "Depth"]
    },
    "control_inclusions": {
      "also_called": "Control Compartment",
      "common_components": ["SKRU", "SPD", "PQM", "SEL", "CPT", "Relays"]
    },
    "section_labels": [
      "Transition",
      "Distribution",
      "Tie",
      "Control",
      "Auxiliary",
      "Pass-Through"
    ]
  },
  
  "product_line_identification": {
    "switchgear": {
      "ul_type": "UL1558",
      "identifier": "Labelled as UL1558"
    },
    "switchboard": {
      "ul_type": "UL891",
      "identifier": "Labelled as UL891 or UL891+",
      "types": {
        "S1": {
          "description": "Contains panelboards in each section",
          "breaker_type": "MCCB (Molded Case Circuit Breakers)",
          "identifiers": ["MCCB in description", "TMAX breakers", "Masterpact breakers"]
        },
        "S2": {
          "description": "Contains both MCCB and ICCB",
          "breaker_types": ["MCCB", "ICCB"]
        },
        "S3": {
          "description": "Contains insulated case breakers (ICCB) in each section",
          "breaker_type": "ICCB (Insulated Case Circuit Breakers)",
          "identifiers": ["ICCB in description", "EMAX breakers", "NW breakers"]
        }
      }
    },
    "slimvac": {
      "description": "Medium voltage boards",
      "identifier": "Board description contains 'SlimVAC'"
    }
  },
  
  "section_type_rules": {
    "UL1558": "Every section is switchgear type",
    "UL891": "Identify as S1/S2/S3 per section based on breaker types",
    "SlimVAC": "Every section is SlimVAC type"
  },
  
  "box_number_format": {
    "description": "Module 1 box number construction",
    "example": "APBXDLHDDLX-G01-02",
    "structure": [
      {"position": "1-4", "value": "APBX", "description": "Static prefix - always APBX"},
      {"position": "5", "field": "height_code", "description": "Height code from dimension_mappings.height"},
      {"position": "6", "field": "width_code", "description": "Width code from dimension_mappings.width"},
      {"position": "7", "field": "depth_code", "description": "Depth code from dimension_mappings.depth"},
      {"position": "8", "field": "front_cornerpost", "description": "Front cornerpost type - see front_cornerpost_logic"},
      {"position": "9", "field": "front_cornerpost", "description": "Front cornerpost type (same as position 8)"},
      {"position": "10", "field": "hardware_code", "description": "First letter of hardware type - L for Locknut, B for Belleville"},
      {"position": "11", "field": "seismic_code", "description": "S if seismic, X if not seismic"},
      {"position": "12-16", "value": "-G01-", "description": "Static middle - always -G01-"},
      {"position": "17-18", "field": "paint_code", "description": "Paint/Finish code from finish_codes"}
    ],
    "assembly_order": "APBX + height + width + depth + front + front + hardware + seismic + -G01- + paint"
  },
  
  "dimension_mappings": {
    "height": {
      "93": "A",
      "90": "B",
      "78": "C",
      "72": "D",
      "60": "E",
      "58.5": "F",
      "81": "G",
      "CUSTOM": "Z"
    },
    "width": {
      "16": "A",
      "20": "B",
      "24": "C",
      "26": "D",
      "28": "E",
      "30": "F",
      "32": "G",
      "36": "H",
      "38": "J",
      "40": "K",
      "42": "L",
      "44": "M",
      "46": "N",
      "48": "P",
      "72": "R",
      "76": "S",
      "CUSTOM": "Z"
    },
    "width_notes": {
      "72": "PDU",
      "76": "PDU"
    },
    "depth": {
      "16": "A",
      "24": "B",
      "30": "C",
      "33": "D",
      "36": "E",
      "42": "F",
      "48": "G",
      "54": "H",
      "56": "Z",
      "60": "J",
      "66": "K",
      "72": "L",
      "78": "M",
      "84": "N",
      "52": "P",
      "100": "Q",
      "CUSTOM": "Z"
    },
    "depth_notes": {
      "52": "PDU",
      "100": "MV"
    }
  },
  
  "front_cornerpost_logic": {
    "description": "Logic to determine front cornerpost code",
    "decision_tree": [
      {
        "condition": "No breaker mentioned in section AND seismic required",
        "result": "2",
        "description": "Seismic Short"
      },
      {
        "condition": "No breaker mentioned in section AND no seismic",
        "result": "S",
        "description": "Short"
      },
      {
        "condition": "Schneider breaker AND Fixed mounted",
        "result": "A",
        "description": "Sch Fxd w/ Wireway Cut"
      },
      {
        "condition": "Schneider breaker AND Drawout",
        "result": "B",
        "description": "Sch DO w/ Wireway Cut"
      },
      {
        "condition": "ABB breaker AND Fixed mounted",
        "result": "C",
        "description": "ABB Fxd w/ Wireway Cut"
      },
      {
        "condition": "ABB breaker AND Drawout",
        "result": "D",
        "description": "ABB DO w/ Wireway Cut"
      }
    ],
    "defaults": {
      "mounting_if_not_specified": "Fixed",
      "cornerpost_if_no_breaker_no_seismic": "S",
      "cornerpost_if_no_breaker_with_seismic": "2"
    },
    "breaker_manufacturer_identification": {
      "ABB": {
        "keywords": ["ABB", "EMAX", "SACE", "Emax2", "E2", "E4", "E6", "XT", "TMAX XT"],
        "note": "ABB breakers include EMAX series (E2, E4, E6) and TMAX XT"
      },
      "Schneider": {
        "keywords": ["Schneider", "Square D", "Masterpact", "NW", "NT", "MTZ", "Compact"],
        "note": "Schneider breakers include Masterpact NW/NT/MTZ series"
      }
    },
    "mounting_type_identification": {
      "Fixed": {
        "keywords": ["Fixed", "Fixed Mounted", "Fxd", "fixed mounted"],
        "default": true
      },
      "Drawout": {
        "keywords": ["Drawout", "Draw-out", "DO", "Draw Out", "Withdrawable"]
      }
    }
  },
  
  "front_cornerpost_codes": {
    "S": "Short (no breaker, no seismic)",
    "2": "Seismic Short (no breaker, with seismic)",
    "A": "Schneider Fixed w/ Wireway Cut",
    "B": "Schneider Drawout w/ Wireway Cut",
    "C": "ABB Fixed w/ Wireway Cut",
    "D": "ABB Drawout w/ Wireway Cut",
    "E": "Schneider Drawout no Cuts",
    "F": "ABB Drawout no Cuts",
    "1": "12\" Stretch w/ Ground",
    "Z": "Custom Stretched",
    "-": "N/A"
  },
  
  "hardware_options": {
    "description": "Hardware type - use first letter as code",
    "types": {
      "L": {
        "name": "Locknut",
        "keywords": ["Locknut", "Lock nut", "Lock-nut"]
      },
      "B": {
        "name": "Belleville",
        "keywords": ["Belleville", "Belleville washer"]
      }
    },
    "default": "L",
    "note": "If hardware not specified, default to L (Locknut)"
  },
  
  "seismic_logic": {
    "description": "Determine seismic code for position 11",
    "codes": {
      "S": "Seismic required",
      "X": "No seismic / Not seismic"
    },
    "keywords_for_seismic": [
      "seismic",
      "seismic bracing",
      "seismic anchoring",
      "seismic zone",
      "IBC",
      "seismic certified"
    ],
    "default": "X"
  },
  
  "finish_codes": {
    "01": "ANSI 49 GREY",
    "02": "ANSI 61 GREY",
    "03": "BLACK",
    "04": "RAVEN BLACK",
    "05": "TOSHIBA BLACK",
    "06": "PO BLUE",
    "07": "RED BARON",
    "08": "GRAPHITE GRAY",
    "09": "SKY WHITE",
    "10": "RAL 5012 PILLER BLUE TEXTURED",
    "11": "RAL 9003 SE WHITE HIGH GLOSS",
    "12": "MUNSEL 5Y7/1 BEIGE",
    "13": "SILCON GRAY",
    "14": "CPN BEIGE",
    "15": "RAL 7035 LIGHT GRAY",
    "16": "BLACK",
    "17": "COLA RED",
    "18": "SAI MV DARK GREY",
    "19": "BEIGE II",
    "20": "SKY WHITE",
    "21": "EL GRAY",
    "22": "RAL 7021 BLACK GRAY",
    "23": "RAL 5017 TRAFFIC BLUE",
    "24": "ACTIVE POWER BLACK",
    "25": "7B GRAY",
    "26": "RAL 9003",
    "27": "RAL 7021",
    "28": "NO PAINT",
    "99": "Other"
  },
  
  "finish_matching": {
    "description": "Keywords to match finish from quote text",
    "matches": {
      "ANSI 49": "01",
      "ANSI 61": "02",
      "ANSI61": "02",
      "ANSI49": "01",
      "RAL 7035": "15",
      "RAL 9003": "26",
      "RAL 7021": "27",
      "RAL 5012": "10",
      "RAL 5017": "23",
      "GRAPHITE": "08",
      "RAVEN": "04",
      "TOSHIBA": "05",
      "NO PAINT": "28"
    },
    "default": "99"
  },
  
  "breaker_identification": {
    "MCCB": {
      "full_name": "Molded Case Circuit Breakers",
      "brand_names": ["TMAX", "Masterpact"],
      "indicates": "S1 type section/board"
    },
    "ICCB": {
      "full_name": "Insulated Case Circuit Breakers", 
      "brand_names": ["EMAX", "NW"],
      "indicates": "S3 type section/board"
    }
  },
  
  "box_number_examples": {
    "example_1": {
      "input": {
        "height": 72,
        "width": 42,
        "depth": 56,
        "breaker_manufacturer": "ABB",
        "mounting": "Fixed",
        "hardware": "Locknut",
        "seismic": true,
        "finish": "ANSI 61 gray"
      },
      "output": "APBXDLZCCLS-G01-02",
      "breakdown": {
        "APBX": "Static prefix",
        "D": "Height 72",
        "L": "Width 42",
        "Z": "Depth 56 (custom)",
        "C": "ABB Fixed",
        "C": "ABB Fixed (repeated)",
        "L": "Locknut",
        "S": "Seismic",
        "-G01-": "Static middle",
        "02": "ANSI 61 grey"
      }
    },
    "example_2": {
      "input": {
        "height": 90,
        "width": 32,
        "depth": 36,
        "breaker_manufacturer": null,
        "mounting": null,
        "hardware": "Belleville",
        "seismic": false,
        "finish": "RAL 7035"
      },
      "output": "APBXBGESSBX-G01-15",
      "breakdown": {
        "APBX": "Static prefix",
        "B": "Height 90",
        "G": "Width 32",
        "E": "Depth 36",
        "S": "Short (no breaker)",
        "S": "Short (repeated)",
        "B": "Belleville",
        "X": "No seismic",
        "-G01-": "Static middle",
        "15": "RAL 7035"
      }
    }
  }
}
